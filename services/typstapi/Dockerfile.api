FROM oven/bun:1.0

WORKDIR /app

# Copy package.json and install dependencies
COPY package.json bun.lock ./
RUN bun install --production

# Copy the rest of the application
COPY . .

# Create data directory for temporary files
RUN mkdir -p /app/data && chmod 755 /app/data

EXPOSE 3000

CMD ["bun", "start"]